你需要一份规范、清晰、结构化的 TypeScript 内置工具类型总结，我会按**功能分类**梳理，每个工具包含「作用」「语法」「完整示例」，兼顾规范性和实用性，方便你查阅和落地使用。

### 核心前置说明
1.  TypeScript 内置工具类型均在 `lib.es5.d.ts` 中定义，无需额外导入，直接使用即可。
2.  所有内置工具都基于 **泛型**、**条件类型**、**`infer` 关键字**、**索引类型**实现，本质是封装好的通用类型逻辑。
3.  以下总结聚焦**高频常用工具**，覆盖 90% 以上的开发场景，罕见工具暂不纳入。

---

## TypeScript 内置工具类型（规范总结）
### 一、 提取/查询类（从已有类型中提取指定部分）
用于从函数、类、对象类型中提取返回值、参数、属性、实例等核心信息。

#### 1. `ReturnType<T>`
- 作用：提取**函数类型 `T`** 的返回值类型。
- 语法：`ReturnType<T>`（`T` 必须是函数类型，非函数类型返回 `never`）。
- 示例：
  ```typescript
  // 1. 直接传入函数类型
  type Func = (a: number, b: string) => { name: string; age: number }
  type FuncReturn = ReturnType<Func> // { name: string; age: number }

  // 2. 实际函数需用 typeof 提取函数类型
  const getUser = () => ({ id: 1, username: "zhangsan" })
  type GetUserReturn = ReturnType<typeof getUser> // { id: number; username: string }
  ```

#### 2. `Parameters<T>`
- 作用：提取**函数类型 `T`** 的参数类型，返回一个**元组类型**（元组元素顺序与函数参数顺序一致）。
- 语法：`Parameters<T>`（`T` 必须是函数类型）。
- 示例：
  ```typescript
  type Func = (name: string, age: number, isVip: boolean) => void
  type FuncParams = Parameters<Func> // [string, number, boolean]

  // 解构元组：获取单个参数类型
  type FirstParam = FuncParams[0] // string
  type SecondParam = FuncParams[1] // number
  ```

#### 3. `ConstructorParameters<T>`
- 作用：提取**类/构造函数类型 `T`** 的构造函数参数类型，返回元组类型。
- 语法：`ConstructorParameters<T>`（`T` 必须是类的构造函数类型，即 `typeof 类名`）。
- 示例：
  ```typescript
  class Person {
    constructor(public name: string, public age: number, public gender: string) {}
  }

  // 提取构造函数参数
  type PersonCtorParams = ConstructorParameters<typeof Person> // [string, number, string]
  ```

#### 4. `InstanceType<T>`
- 作用：提取**类/构造函数类型 `T`** 的实例类型（即 `new T()` 生成的实例的类型）。
- 语法：`InstanceType<T>`（`T` 必须是类的构造函数类型）。
- 示例：
  ```typescript
  class Person {
    name: string
    age: number
    constructor(name: string, age: number) {
      this.name = name
      this.age = age
    }
  }

  // 提取实例类型（等价于直接使用 Person 类型）
  type PersonInstance = InstanceType<typeof Person>
  const p: PersonInstance = { name: "张三", age: 18 } // 合法
  ```

#### 5. `Pick<T, K>`
- 作用：从**对象类型 `T`** 中，挑选指定的属性 `K`，组成新的对象类型（`K` 必须是 `T` 的属性联合）。
- 语法：`Pick<T, K>`（`T` 为对象类型，`K extends keyof T`）。
- 示例：
  ```typescript
  type User = { id: number; name: string; age: number; gender: string }

  // 挑选 name 和 age 两个属性
  type UserBasic = Pick<User, "name" | "age"> // { name: string; age: number }
  ```

### 二、 排除/过滤类（从已有类型中排除指定部分）
用于从联合类型、对象类型中排除不需要的类型或属性，与「提取/查询类」功能互补。

#### 1. `Exclude<T, U>`
- 作用：从**联合类型 `T`** 中，排除所有可以赋值给 `U` 的类型，返回剩余类型。
- 语法：`Exclude<T, U>`（`T` 为联合类型）。
- 示例：
  ```typescript
  type UnionType = "a" | "b" | "c" | 123 | 456

  // 1. 排除指定字面量类型
  type ExcludeABC = Exclude<UnionType, "a" | "b"> // "c" | 123 | 456

  // 2. 排除指定基础类型
  type ExcludeNumber = Exclude<UnionType, number> // "a" | "b" | "c"
  ```

#### 2. `Omit<T, K>`
- 作用：从**对象类型 `T`** 中，排除指定的属性 `K`，组成新的对象类型（与 `Pick` 功能相反）。
- 语法：`Omit<T, K>`（`T` 为对象类型，`K extends keyof T`）。
- 示例：
  ```typescript
  type User = { id: number; name: string; age: number; gender: string }

  // 排除 gender 属性
  type UserWithoutGender = Omit<User, "gender"> // { id: number; name: string; age: number }

  // 排除多个属性
  type UserWithoutIdAndGender = Omit<User, "id" | "gender"> // { name: string; age: number }
  ```

#### 3. `Extract<T, U>`
- 作用：从**联合类型 `T`** 中，提取所有可以赋值给 `U` 的类型（与 `Exclude` 功能相反）。
- 语法：`Extract<T, U>`（`T` 为联合类型）。
- 示例：
  ```typescript
  type UnionType = "a" | "b" | "c" | 123 | 456

  // 1. 提取指定字面量类型
  type ExtractAB = Extract<UnionType, "a" | "b"> // "a" | "b"

  // 2. 提取指定基础类型
  type ExtractNumber = Extract<UnionType, number> // 123 | 456
  ```

#### 4. `NonNullable<T>`
- 作用：从类型 `T` 中，排除 `null` 和 `undefined` 类型，返回剩余类型。
- 语法：`NonNullable<T>`。
- 示例：
  ```typescript
  type NullableType = string | number | null | undefined

  // 排除 null 和 undefined
  type NonNullableType = NonNullable<NullableType> // string | number
  ```

### 三、 修改/转换类（修改已有类型的属性修饰符、可访问性等）
用于修改对象类型、函数类型的属性修饰符（可选、只读）或参数类型，生成新类型。

#### 1. `Partial<T>`
- 作用：将**对象类型 `T`** 的所有属性变为**可选属性**（添加 `?` 修饰符）。
- 语法：`Partial<T>`（`T` 为对象类型）。
- 示例：
  ```typescript
  type User = { name: string; age: number; gender: string }

  // 所有属性变为可选
  type PartialUser = Partial<User> // { name?: string; age?: number; gender?: string }

  // 场景：更新用户信息时，无需传递所有属性
  function updateUser(user: Partial<User>) { /* 实现逻辑 */ }
  updateUser({ name: "李四" }) // 合法，无需传递 age 和 gender
  ```

#### 2. `Required<T>`
- 作用：将**对象类型 `T`** 的所有属性变为**必选属性**（移除 `?` 修饰符），与 `Partial` 功能相反。
- 语法：`Required<T>`（`T` 为对象类型）。
- 示例：
  ```typescript
  type PartialUser = { name?: string; age?: number; gender?: string }

  // 所有属性变为必选
  type RequiredUser = Required<PartialUser> // { name: string; age: number; gender: string }
  ```

#### 3. `Readonly<T>`
- 作用：将**对象类型 `T`** 的所有属性变为**只读属性**（添加 `readonly` 修饰符），赋值后无法修改。
- 语法：`Readonly<T>`（`T` 为对象类型）。
- 示例：
  ```typescript
  type User = { name: string; age: number }

  // 所有属性变为只读
  type ReadonlyUser = Readonly<User> // { readonly name: string; readonly age: number }

  const user: ReadonlyUser = { name: "张三", age: 18 }
  user.name = "李四" // 报错：无法分配到 "name"，因为它是只读属性
  ```

#### 4. `Record<K, T>`
- 作用：创建一个**对象类型**，其中属性名的类型为 `K`，属性值的类型为 `T`（常用于定义键值对对象）。
- 语法：`Record<K, T>`（`K` 为属性名类型，通常是字符串/字面量联合；`T` 为属性值类型）。
- 示例：
  ```typescript
  // 1. 简单键值对（属性名为 string，属性值为 number）
  type ScoreRecord = Record<string, number>
  const studentScores: ScoreRecord = { "张三": 90, "李四": 85 } // 合法

  // 2. 固定属性名（字面量联合）
  type UserRole = "admin" | "user" | "guest"
  type RoleDesc = Record<UserRole, string>
  const roleDescs: RoleDesc = {
    admin: "系统管理员",
    user: "普通用户",
    guest: "游客"
  } // 合法，必须包含所有 UserRole 中的属性
  ```

### 四、 字符串操作类（TypeScript 4.1+ 支持，操作字符串字面量类型）
用于对字符串字面量类型进行转换，如大小写转换、拼接等。

#### 1. `Uppercase<S>`
- 作用：将**字符串字面量类型 `S`** 的所有字符转换为大写。
- 语法：`Uppercase<S>`。
- 示例：
  ```typescript
  type LowercaseStr = "hello world"
  type UppercaseStr = Uppercase<LowercaseStr> // "HELLO WORLD"
  ```

#### 2. `Lowercase<S>`
- 作用：将**字符串字面量类型 `S`** 的所有字符转换为小写。
- 语法：`Lowercase<S>`。
- 示例：
  ```typescript
  type UppercaseStr = "HELLO WORLD"
  type LowercaseStr = Lowercase<UppercaseStr> // "hello world"
  ```

#### 3. `Capitalize<S>`
- 作用：将**字符串字面量类型 `S`** 的**第一个字符**转换为大写，其余字符不变。
- 语法：`Capitalize<S>`。
- 示例：
  ```typescript
  type NormalStr = "hello world"
  type CapitalizeStr = Capitalize<NormalStr> // "Hello world"
  ```

#### 4. `Uncapitalize<S>`
- 作用：将**字符串字面量类型 `S`** 的**第一个字符**转换为小写，其余字符不变。
- 语法：`Uncapitalize<S>`。
- 示例：
  ```typescript
  type CapitalizedStr = "Hello World"
  type UncapitalizeStr = Uncapitalize<CapitalizedStr> // "hello World"
  ```

### 总结
1.  TS 内置工具按功能可分为「提取/查询」「排除/过滤」「修改/转换」「字符串操作」四大类，覆盖绝大多数开发场景。
2.  高频必备工具：`ReturnType`、`Pick`、`Omit`、`Partial`、`Record`，优先掌握这些可解决大部分类型处理需求。
3.  实际函数/类使用工具类型时，需用 `typeof` 提取其类型再传入。
4.  所有内置工具都是“类型层面”的操作，不影响运行时代码，仅用于 TS 类型校验。